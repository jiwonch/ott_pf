<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OTT</title>
    <link rel="stylesheet" href="css/index_style.css">
    <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.6.0.min.js"></script>
</head>

<body>

    <div id="wrap">
        <div class="wrap_af"></div>

        <!-- 페이지 슬라이드 버튼 -->
        <div id="dot">
            <ul>
                <li><a href="#p0"></a></li>
                <li><a href="#p1"></a></li>
                <li><a href="#p2"></a></li>
                <li><a href="#p3"></a></li>
                <li><a href="#p4"></a></li>
            </ul>
        </div>

        <!-- 페이지 작업 -->
        <section class="page_wrap">
            <div class="page p00 section" id="particles-js">
                <div id="slider">
                    <video src="img/media/bm_mhead.mp4" loop muted autoplay></video>
                </div>
                <header>
                    <div id="logo"><a href="#"><img src="img/header/google-logo.png" alt="google"></a></div>
                    <nav>
                        <ul>
                            <a href="#"><li>MOVIES </li></a>
                            <a href="#"><li> SCHEDULE </li></a>
                            <a href="#"><li> BROWSE</li></a>
                        </ul>
                    </nav>
                </header>

                <div id="page1_text">
                    SPECIAL OFFERS<br>
                    1MONTHS 9,000원<br>
                </div>
            </div>

            <div class="page p01 section" id="p1">
                <div id="page2_textline">
                    <h1>HIT MOVIES</h1>
                    <h3>BLOCKBUSTERS FOR THE WHOLE FAMILY</h3>
                </div>
                <div id="page2_imgline"></div>
            </div>
            <div class="page p02 section" id="p2"></div>
            <div class="page p03 section" id="p3"></div>
            <div class="pf_bot page section" id="p4"></div>
        </section>
    </div>

    <script>
        $(function(){
            var dot = $("#dot ul li");
            var contents = $(".page_wrap>.page");

            dot.click(function(e){
                e.preventDefault();
                var target = $(this);
                var index = target.index();
                var section = contents.eq(index);
                var offset = section.offset().top;
                $("html, body").animate({ scrollTop: offset }, 600);
            });

            $(window).scroll(function(){
                var wScroll = $(this).scrollTop();

                if (wScroll >= contents.eq(0).offset().top){
                    dot.css({"background": "rgba(255, 255, 255, 0.1)"});
                    dot.find("a").css({"background": "rgba(255, 255, 255, 0.5)"});
                    dot.removeClass("active");
                    dot.eq(0).addClass("active");
                    dot.eq(0).find("a").css({"background": "#0cdaff"});
                }

                if(wScroll >= contents.eq(1).offset().top){
                    dot.css({"background": "rgba(255, 255, 255, 0.1)"});
                    dot.find("a").css({"background": "rgba(255, 255, 255, 0.5)"});
                    dot.removeClass("active");
                    dot.eq(1).addClass("active");
                    dot.eq(1).find("a").css({"background": "#0189ff"});
                }

                if(wScroll >= contents.eq(2).offset().top){
                    dot.css({"background": "rgba(255, 255, 255, 0.1)"});
                    dot.find("a").css({"background": "rgba(255, 255, 255, 0.5)"});
                    dot.removeClass("active");
                    dot.eq(2).addClass("active");
                    dot.eq(2).find("a").css({"background": "#f0a91b"});
                }

                if(wScroll >= contents.eq(3).offset().top){
                    dot.css({"background": "rgba(255, 255, 255, 0.1)"});
                    dot.find("a").css({"background": "rgba(255, 255, 255, 0.5)"});
                    dot.removeClass("active");
                    dot.eq(3).addClass("active");
                    dot.eq(3).find("a").css({"background": "#d6130f"});
                }

                if(wScroll >= contents.eq(4).offset().top){
                    dot.css({"background": "rgba(255, 255, 255, 0.1)"});
                    dot.find("a").css({"background": "rgba(255, 255, 255, 0.5)"});
                    dot.removeClass("active");
                    dot.eq(4).addClass("active");
                    dot.eq(4).find("a").css({"background": "#a0ef08"});
                }
            });

            return false;
        });

        $(function(){
            $('.wrap_af').hide();

            $(".fa-bars").click(function(){
                $("#side").animate({left: '0'}, 500);
                $(this).fadeOut();
                $('.wrap_af').fadeIn();
            });

            $(".fa-chevron-left").click(function(){
                $("#side").animate({left: '-310'}, 500);
                $(".fa-bars").fadeIn();
                $(".wrap_af").fadeOut();
            });
        });

        $(function(){
            var win_h = $(window).height();
            $('.page').each(function(index){
                $(this).attr("data-index", win_h * index);
            });

            $('.page').on("mousewheel", function (e){
                var pagePos = parseInt($(this).attr("data-index"));
                if(e.originalEvent.wheelDelta >= 0){
                    $("html,body").stop().animate({ scrollTop: pagePos - win_h});
                    return false;
                } else if(e.originalEvent.wheelDelta < 0){
                    $("html,body").stop().animate({scrollTop: pagePos + win_h});
                    return false;
                }
            });
        });
    </script>
</body>

</html>
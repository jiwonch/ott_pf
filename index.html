<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OTT</title>
    <link rel="stylesheet" href="css/index_style.css">
    <link rel="stylesheet" href="css/common.css">
    <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.6.0.min.js"></script>
</head>

<body>

    <div id="wrap">
        <div class="wrap_af"></div>

        <!-- 페이지 슬라이드 버튼 -->
        <div id="dot">
            <ul>
                <li><a href="#p0"></a></li>
                <li><a href="#p1"></a></li>
                <li><a href="#p2"></a></li>
                <li><a href="#p3"></a></li>
                <li><a href="#p4"></a></li>
            </ul>
        </div>

        <!-- 페이지 작업 -->
        <section class="page_wrap">
            <div class="page p00 section" id="particles-js">
                <div id="slider">
                    <video src="img/media/bm_mhead.mp4" loop muted autoplay></video>
                </div>
                <header>
                    <div id="logo"><a href="#"><img src="img/header/logo.png" alt="google"></a></div>
                    <nav>
                        <ul>
                            <a href="#">
                                <li>영화 </li>
                            </a>
                            <a href="#">
                                <li> 스케쥴 </li>
                            </a>
                            <a href="#">
                                <li> 브라우저 </li>
                            </a>
                        </ul>
                    </nav>
                </header>

                <div id="page1_text">
                    SPECIAL OFFERS<br>
                    1MONTHS 9,000원<br>
                </div>
            </div>

            <div class="page p01 section" id="p1">
                <div id="page2_textline">
                    <h1>HIT MOVIES</h1>
                    <h3>BLOCKBUSTERS FOR THE WHOLE FAMILY</h3>
                </div>
                <div id="page2_imgline">
                    <div class="rolling_banner">
                        <div class="rolling_boxa rb">
                            <a href="#" class="rolling"><img src="img/index/rolling_a.jpg" alt="rolling_a"></a>
                        </div>

                        <div class="rolling_boxb rb">
                            <a href="#" class="rolling"><img src="img/index/rolling_b.jpg" alt="rolling_b"></a>
                        </div>

                        <div class="rolling_boxc rb">
                            <a href="#" class="rolling"><img src="img/index/rolling_c.jpg" alt="rolling_C"></a>
                        </div>

                        <div class="rolling_boxd rb">
                            <a href="#" class="rolling"><img src="img/index/rolling_d.jpg" alt="rolling_d"></a>
                        </div>

                        <div class="rolling_boxe rb">
                            <a href="#" class="rolling"><img src="img/index/rolling_e.jpg" alt="rolling_e"></a>
                        </div>

                    </div>
                </div>
            </div>


            <!-- rolling-banner 영화 이미지 슬라이드 -->
            <script>
                var banner_left = 0;
                var img_cnt = 0;
                var first = 1;
                var last;
                var interval;

                $(document).ready(function () {
                    $(".rb").each(function () {
                        $(this).css("left", banner_left);
                        banner_left += $(this).width() + 100;
                        $(this).attr("id", "content" + (++img_cnt));
                    });

                    last = img_cnt;
                    startAction();

                    $(".content").hover(
                        function () { stopAction(); },
                        function () { starAction(); });
                });

                function startAction() {
                    interval = setInterval(function () {
                        $(".rb").each(function () {
                            $(this).css("left", $(this).position().left - 1);
                        });

                        var first_content = $("#content" + first);
                        var last_content = $("#content" + last);

                        if (first_content.position().left < "-" + $(first_content).width()) {
                            first_content.css("left", last_content.position().left + last_content.width() + 100);
                            first++;
                            last++;
                            if (last > img_cnt) { last = 1; }
                            if (first > img_cnt) { first = 1; }
                        }

                    }, 12);
                }

            </script>


            <div class="page p02 section" id="p2">
                <div class="p2box">
                    <div class="page2_sec1">
                        <div class="p2s_img1"></div>
                        <div class="p2s_img2"></div>
                    </div>
                    <div class="page2_sec2">
                        <div class="ps2_txt">
                            <h1>COMMING SOON</h1>
                            <h3>영화 제목제목제목</h3>
                        </div>
                    </div>
                    <div class="page2_sec3">
                        <div class="p2s_img3"></div>
                        <div class="p2s_txt2"></div>
                    </div>
                </div>
            </div>
            <div class="page p03 section" id="p3">
                <div class="p3box">
                    <div class="page3_sec1">
                        <div class="p3s_img3"></div>
                        <div class="p3s_txt2"></div>

                    </div>
                    <div class="page3_sec2">
                        <div class="ps3_txt">
                            <h1>COMMING SOON</h1>
                            <h3>영화 제목제목제목</h3>
                        </div>
                    </div>

                    <div class="page3_sec3">
                        <div class="p3s_img1"></div>
                        <div class="p3s_img2"></div>
                    </div>
                </div>
            </div>
            <div class="pf_bot page section" id="p4">
                
            </div>
        </section>
    </div>

    <script>
        $(function () {
            var dot = $("#dot ul li");
            var contents = $(".page_wrap>.page");

            dot.click(function (e) {
                e.preventDefault();
                var target = $(this);
                var index = target.index();
                var section = contents.eq(index);
                var offset = section.offset().top;
                $("html, body").animate({ scrollTop: offset }, 600);
            });

            $(window).scroll(function () {
                var wScroll = $(this).scrollTop();

                if (wScroll >= contents.eq(0).offset().top) {
                    dot.css({ "background": "rgba(255, 255, 255, 0.1)" });
                    dot.find("a").css({ "background": "rgba(255, 255, 255, 0.5)" });
                    dot.removeClass("active");
                    dot.eq(0).addClass("active");
                    dot.eq(0).find("a").css({ "background": "#0cdaff" });
                }

                if (wScroll >= contents.eq(1).offset().top) {
                    dot.css({ "background": "rgba(255, 255, 255, 0.1)" });
                    dot.find("a").css({ "background": "rgba(255, 255, 255, 0.5)" });
                    dot.removeClass("active");
                    dot.eq(1).addClass("active");
                    dot.eq(1).find("a").css({ "background": "#0189ff" });
                }

                if (wScroll >= contents.eq(2).offset().top) {
                    dot.css({ "background": "rgba(255, 255, 255, 0.1)" });
                    dot.find("a").css({ "background": "rgba(255, 255, 255, 0.5)" });
                    dot.removeClass("active");
                    dot.eq(2).addClass("active");
                    dot.eq(2).find("a").css({ "background": "#f0a91b" });
                }

                if (wScroll >= contents.eq(3).offset().top) {
                    dot.css({ "background": "rgba(255, 255, 255, 0.1)" });
                    dot.find("a").css({ "background": "rgba(255, 255, 255, 0.5)" });
                    dot.removeClass("active");
                    dot.eq(3).addClass("active");
                    dot.eq(3).find("a").css({ "background": "#d6130f" });
                }

                if (wScroll >= contents.eq(4).offset().top) {
                    dot.css({ "background": "rgba(255, 255, 255, 0.1)" });
                    dot.find("a").css({ "background": "rgba(255, 255, 255, 0.5)" });
                    dot.removeClass("active");
                    dot.eq(4).addClass("active");
                    dot.eq(4).find("a").css({ "background": "#a0ef08" });
                }
            });

            return false;
        });

        $(function () {
            $('.wrap_af').hide();

            $(".fa-bars").click(function () {
                $("#side").animate({ left: '0' }, 500);
                $(this).fadeOut();
                $('.wrap_af').fadeIn();
            });

            $(".fa-chevron-left").click(function () {
                $("#side").animate({ left: '-310' }, 500);
                $(".fa-bars").fadeIn();
                $(".wrap_af").fadeOut();
            });
        });

        $(function () {
            var win_h = $(window).height();
            $('.page').each(function (index) {
                $(this).attr("data-index", win_h * index);
            });

            $('.page').on("mousewheel", function (e) {
                var pagePos = parseInt($(this).attr("data-index"));
                if (e.originalEvent.wheelDelta >= 0) {
                    $("html,body").stop().animate({ scrollTop: pagePos - win_h });
                    return false;
                } else if (e.originalEvent.wheelDelta < 0) {
                    $("html,body").stop().animate({ scrollTop: pagePos + win_h });
                    return false;
                }
            });
        });
    </script>
</body>

</html>